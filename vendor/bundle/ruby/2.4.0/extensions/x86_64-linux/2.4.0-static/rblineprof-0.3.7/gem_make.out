current directory: /home/isucon/webapp/euglena1215/vendor/bundle/ruby/2.4.0/gems/rblineprof-0.3.7/ext
/home/isucon/.rbenv/versions/2.4.0/bin/ruby -r ./siteconf20171015-7536-1s1pt6q.rb extconf.rb
checking for rb_os_allocated_objects()... no
checking for rb_gc_stat()... yes
checking for rb_profile_frames()... yes
checking for rb_tracepoint_new()... yes
creating Makefile

To see why this extension failed to compile, please check the mkmf.log which can be found here:

  /home/isucon/webapp/euglena1215/vendor/bundle/ruby/2.4.0/extensions/x86_64-linux/2.4.0-static/rblineprof-0.3.7/mkmf.log

current directory: /home/isucon/webapp/euglena1215/vendor/bundle/ruby/2.4.0/gems/rblineprof-0.3.7/ext
make "DESTDIR=" clean

current directory: /home/isucon/webapp/euglena1215/vendor/bundle/ruby/2.4.0/gems/rblineprof-0.3.7/ext
make "DESTDIR="
compiling rblineprof.c
rblineprof.c: In function ‘cputime_usec’:
rblineprof.c:149:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   struct rusage usage;
   ^
rblineprof.c: In function ‘stackframe_record’:
rblineprof.c:214:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   snapshot_t diff = snapshot_diff(&now, &frame->start);
   ^
rblineprof.c: In function ‘sourcefile_lookup’:
rblineprof.c:271:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       long rc = rb_reg_search(rblineprof.source_regex, rb_str_new2(filename), 0, 0);
       ^
rblineprof.c: In function ‘profiler_hook’:
rblineprof.c:417:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   snapshot_t now = {
   ^
rblineprof.c: In function ‘cleanup_files’:
rblineprof.c:546:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   sourcefile_t *sourcefile = (sourcefile_t*)record;
   ^
rblineprof.c: In function ‘summarize_files’:
rblineprof.c:562:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   VALUE ret = (VALUE)arg;
   ^
rblineprof.c: In function ‘lineprof’:
rblineprof.c:619:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   VALUE filename_class = rb_obj_class(filename);
   ^
rblineprof.c:656:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   VALUE ret = rb_hash_new();
   ^
rblineprof.c: At top level:
cc1: warning: unrecognized command line option "-Wno-self-assign" [enabled by default]
cc1: warning: unrecognized command line option "-Wno-constant-logical-operand" [enabled by default]
cc1: warning: unrecognized command line option "-Wno-parentheses-equality" [enabled by default]
cc1: warning: unrecognized command line option "-Wno-tautological-compare" [enabled by default]
linking shared-object rblineprof.so

current directory: /home/isucon/webapp/euglena1215/vendor/bundle/ruby/2.4.0/gems/rblineprof-0.3.7/ext
make "DESTDIR=" install
/usr/bin/install -c -m 0755 rblineprof.so ./.gem.20171015-7536-geeg3y
